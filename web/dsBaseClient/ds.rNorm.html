<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Generates Normal distribution in the server-side</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../../assets/R.css" />
</head><body>

<table width="100%" summary="page for ds.rNorm {dsBaseClient}"><tr><td>ds.rNorm {dsBaseClient}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Generates Normal distribution in the server-side</h2>

<h3>Description</h3>

<p>Generates normally distributed random (pseudorandom) scalar numbers. 
Besides, <code>ds.rNorm</code> allows creating different vector lengths in each server.
</p>


<h3>Usage</h3>

<pre>
ds.rNorm(
  samp.size = 1,
  mean = 0,
  sd = 1,
  newobj = "newObject",
  seed.as.integer = NULL,
  return.full.seed.as.set = FALSE,
  force.output.to.k.decimal.places = 9,
  datasources = NULL
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>samp.size</code></td>
<td>
<p>an integer value or an integer vector that defines the length
of the random numeric vector to be created in each source.</p>
</td></tr>
<tr valign="top"><td><code>mean</code></td>
<td>
<p>the mean value or vector of the Normal distribution to be created.</p>
</td></tr>
<tr valign="top"><td><code>sd</code></td>
<td>
<p>the standard deviation of the Normal distribution to be created.</p>
</td></tr>
<tr valign="top"><td><code>newobj</code></td>
<td>
<p>a character string that provides the name for the output variable 
that is stored on the data servers. Default <code>newObject</code>.</p>
</td></tr>
<tr valign="top"><td><code>seed.as.integer</code></td>
<td>
<p>an integer 
or a NULL value which provides the random seed in each data source.</p>
</td></tr>
<tr valign="top"><td><code>return.full.seed.as.set</code></td>
<td>
<p>logical, if TRUE will returns the full random number 
seed in each data source (a numeric vector of length 626). 
If FALSE it will only return the trigger seed value you have provided. 
Default is FALSE.</p>
</td></tr>
<tr valign="top"><td><code>force.output.to.k.decimal.places</code></td>
<td>
<p>an integer vector that 
forces the output random numbers vector to have k decimals.</p>
</td></tr>
<tr valign="top"><td><code>datasources</code></td>
<td>
<p>a list of <code>DSConnection-class</code> objects obtained after login. 
If the <code>datasources</code> argument is not specified
the default set of connections will be used: see <code>datashield.connections_default</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a vector of pseudorandom numbers distributed 
with a Normal distribution in each data source. 
The <code>ds.rNorm</code> function's arguments specify the mean and the standard deviation 
(<code>sd</code>) of the normal distribution and  
the length and the seed of the output vector in each source.
</p>
<p>To specify a different <code>mean</code> value in each source,
you can use a character vector <code>(..., mean="vector.of.means"...)</code>
or the <code>datasources</code> parameter to create the random vector for one source at a time, 
changing the <code>mean</code> as required.
Default value for <code>mean = 0</code>.  
</p>
<p>To specify different <code>sd</code> value in each source, 
you can use a character vector <code>(..., sd="vector.of.sds"...</code>
or the <code>datasources</code> parameter to create the random vector for one source at a time, 
changing the &lt;mean&gt; as required.
Default value for <code>sd = 0</code>. 
</p>
<p>If <code>seed.as.integer</code> is an integer 
e.g. 5 and there is more than one source (N) the seed is set as 5*N. 
For example, in the first study the seed is set as 938*1, 
in the second as  938*2  
up to 938*N in the Nth study.
</p>
<p>If <code>seed.as.integer</code> is set as 0 all sources will start with the seed value
0 and all the random number generators will, therefore, start from the same position. 
Also, to use the same starting seed in all studies but do not wish it to
be 0, you can use <code>datasources</code> argument to generate the random number 
vectors one source at a time. 
</p>
<p>In <code>force.output.to.k.decimal.places</code> the range of k is 1-8 decimals. 
If <code>k = 0</code> the output random numbers are forced  to integer.  
If <code>k = 9</code>, no rounding of output numbers occurs. 
The default value of <code>force.output.to.k.decimal.places = 9</code>.
</p>
<p>Server functions called: <code>rNormDS</code> and <code>setSeedDS</code>.
</p>


<h3>Value</h3>

<p><code>ds.rNorm</code> returns random number vectors with a normal  distribution for each 
study, taking into account the values specified in each parameter of the function. 
The output vector is written to the server-side.
If requested, it also returned to the client-side the full 626 lengths random seed vector
generated in each source  (see info for the argument <code>return.full.seed.as.set</code>).
</p>


<h3>Author(s)</h3>

<p>DataSHIELD Development Team
</p>


<h3>Examples</h3>

<pre>
## Not run: 

  ## Version 6, for version 5 see the Wiki
  # Connecting to the Opal servers

  require('DSI')
  require('DSOpal')
  require('dsBaseClient')

  builder &lt;- DSI::newDSLoginBuilder()
  builder$append(server = "study1", 
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM1", driver = "OpalDriver")
  builder$append(server = "study2", 
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM2", driver = "OpalDriver")
  builder$append(server = "study3",
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM3", driver = "OpalDriver")
  logindata &lt;- builder$build()
  
  # Log onto the remote Opal training servers
  connections &lt;- DSI::datashield.login(logins = logindata, assign = TRUE, symbol = "D") 

  # Generating the vectors in the Opal servers

  ds.rNorm(samp.size=c(10,20,45), #the length of the vector created in each source is different 
           mean=c(1,6,4),         #the mean of the Normal distribution changes in each server
           sd=as.character(c(1,4,3)), #the sd of the Normal distribution changes in each server
           newobj="Norm.dist",
           seed.as.integer=2345, 
           return.full.seed.as.set=FALSE,
           force.output.to.k.decimal.places=c(4,5,6), #output random numbers have different 
                                                      #decimal quantity in each source 
           datasources=connections) #all the Opal servers are used, in this case 3 
                                    #(see above the connection to the servers) 
  
  ds.rNorm(samp.size=10,
           mean=1.4,
           sd=0.2, 
           newobj="Norm.dist", 
           seed.as.integer=2345,
           return.full.seed.as.set=FALSE,
           force.output.to.k.decimal.places=1,
           datasources=connections[2]) #only the second  Opal server is used ("study2")
           
  # Clear the Datashield R sessions and logout
  datashield.logout(connections) 

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>dsBaseClient</em> version 6.1.0 ]</div>
</body></html>
