<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Generates a data frame object in the server-side</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../../assets/R.css" />
</head><body>

<table width="100%" summary="page for ds.dataFrame {dsBaseClient}"><tr><td>ds.dataFrame {dsBaseClient}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Generates a data frame object in the server-side</h2>

<h3>Description</h3>

<p>Creates a data frame from its elemental components:
pre-existing data frames, single variables or matrices.
</p>


<h3>Usage</h3>

<pre>
ds.dataFrame(
  x = NULL,
  row.names = NULL,
  check.rows = FALSE,
  check.names = TRUE,
  stringsAsFactors = TRUE,
  completeCases = FALSE,
  DataSHIELD.checks = FALSE,
  newobj = NULL,
  datasources = NULL,
  notify.of.progress = FALSE
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>a character string that provides the name of the objects
to be combined.</p>
</td></tr>
<tr valign="top"><td><code>row.names</code></td>
<td>
<p>NULL, integer or character string that provides the
row names of the output data frame.</p>
</td></tr>
<tr valign="top"><td><code>check.rows</code></td>
<td>
<p>logical. If TRUE then the rows are checked for consistency of
length and names. Default is FALSE.</p>
</td></tr>
<tr valign="top"><td><code>check.names</code></td>
<td>
<p>logical. If TRUE the column names 
in the data frame are checked to ensure that is unique. Default is TRUE.</p>
</td></tr>
<tr valign="top"><td><code>stringsAsFactors</code></td>
<td>
<p>logical. If true the character vectors are
converted to factors. Default TRUE.</p>
</td></tr>
<tr valign="top"><td><code>completeCases</code></td>
<td>
<p>logical. If TRUE rows with one or more 
missing values will be deleted from the output data frame.
Default is FALSE.</p>
</td></tr>
<tr valign="top"><td><code>DataSHIELD.checks</code></td>
<td>
<p>logical. Default FALSE. If TRUE undertakes all DataSHIELD checks 
(time-consuming) which are:<br />
1. the input object(s) is(are) defined in all the studies<br />
2. the input object(s) is(are) of the same legal class in all the studies<br />
3. if there are any duplicated column names in the input objects in each study<br />
4. the number of rows of the  data frames or matrices and the length of all component variables
are the same</p>
</td></tr>
<tr valign="top"><td><code>newobj</code></td>
<td>
<p>a character string that provides the name for the output data frame
that is stored on the data servers. Default <code>dataframe.newobj</code>.</p>
</td></tr>
<tr valign="top"><td><code>datasources</code></td>
<td>
<p>a list of <code>DSConnection-class</code> objects obtained after login. 
If the <code>datasources</code> argument is not specified 
the default set of connections will be used: see <code>datashield.connections_default</code>.</p>
</td></tr>
<tr valign="top"><td><code>notify.of.progress</code></td>
<td>
<p>specifies if console output should be produced to indicate
progress. Default is FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It creates a data frame by combining
pre-existing data frames, matrices or variables.
</p>
<p>The length of all component variables and the number of rows 
of the  data frames or matrices must be the same.  The output 
data frame will have the same number of rows. 
</p>
<p>Server functions called: <code>classDS</code>, <code>colnamesDS</code>, <code>dataFrameDS</code>
</p>


<h3>Value</h3>

<p><code>ds.dataFrame</code> returns the object specified by the <code>newobj</code> argument
which is written to the serverside. Also, two validity messages are returned to the
client-side indicating the name of the <code>newobj</code> that has been created in each data source
and if it is in a valid form.
</p>


<h3>Author(s)</h3>

<p>DataSHIELD Development Team
</p>


<h3>Examples</h3>

<pre>

## Not run: 

  ## Version 6, for version 5 see the Wiki 
  # Connecting to the Opal servers

  require('DSI')
  require('DSOpal')
  require('dsBaseClient')

  builder &lt;- DSI::newDSLoginBuilder()
  builder$append(server = "study1", 
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM1", driver = "OpalDriver")
  builder$append(server = "study2", 
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM2", driver = "OpalDriver")
  builder$append(server = "study3",
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM3", driver = "OpalDriver")
                 
  logindata &lt;- builder$build()
  
  # Log onto the remote Opal training servers
  connections &lt;- DSI::datashield.login(logins = logindata, assign = TRUE, symbol = "D") 
  
  # Create a new data frame
  ds.dataFrame(x = c("D$LAB_TSC","D$GENDER","D$PM_BMI_CATEGORICAL"),
               row.names = NULL,
               check.rows = FALSE,
               check.names = TRUE,
               stringsAsFactors = TRUE, #character variables are converted to a factor 
               completeCases = TRUE, #only rows with not missing values are selected
               DataSHIELD.checks = FALSE,
               newobj = "df1",
               datasources = connections[1], #only the first Opal server is used ("study1")
               notify.of.progress = FALSE)


  # Clear the Datashield R sessions and logout
  datashield.logout(connections) 

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>dsBaseClient</em> version 6.0.1 ]</div>
</body></html>
