<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Return a 'studysideMessage' written by an assign function to...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../../assets/R.css" />
</head><body>

<table width="100%" summary="page for ds.message {dsBaseClient}"><tr><td>ds.message {dsBaseClient}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Return a 'studysideMessage' written by an assign function to serverside</h2>

<h3>Description</h3>

<p>This function allows for error messages arising from the 
running of a server-side assign function to be returned to the client-side
</p>


<h3>Usage</h3>

<pre>
ds.message(message.obj.name = NULL, datasources = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>message.obj.name</code></td>
<td>
<p>is a character string, containing the name of the list containing the
message. As an example, the server-side function mergeDS enacts the
command:    datashield.assign(datasources, &quot;messageobj&quot;, calltext2)
As a standard assign function its output is directed to the list object named
(in this case) &quot;messageobj&quot;. If a studysideMessage is written by DataSHIELD
it can be found as messageobj$studysideMessage. To read it, you have to 
issue the client-side command: ds.message('messageobj'). This tells DataSHIELD
to look for the server-side object 'messageobj' and if it finds it, to return any
text held in messageobj$studysideMessage. In order to help users to know the name
of the server-side list object to ask for in issueing the command:
ds.message('messageobj') developers are asked to include a message such as:
Note3&lt;-&quot;IF FUNCTION FAILED ON ONE OR MORE STUDIES WITHOUT EXPLANATION, TYPE [PRECISELY] THE COMMAND:&quot;
Note4&lt;-&quot;ds.message('messageobj') FOR MORE ERROR MESSAGES&quot;
These represent two of four notes returned by the client-side function ds.merge at the end
of each call. In combination, these two notes alert the user to the fact that if there is
an error, there may be additional information available in a studysideMessage, and also
tells them how to retrieve that message.</p>
</td></tr>
<tr valign="top"><td><code>datasources</code></td>
<td>
<p>specifies the particular opal object(s) to use, if it is not specified
the default set of opals will be used. The default opals are always called default.opals.
This parameter is set without inverted commas: e.g. datasources=opals.em or datasources=default.opals
If you wish to specify the second opal server in a set of three, the parameter is specified:
e.g. datasources=opals.em[2]. If you wish to specify the first and third opal servers in a set specify:
e.g. datasources=opals.em[2,3]</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Errors arising from aggregate server-side functions can be returned
directly to the client-side. But this is not possible for server-side assign
functions because they are designed specifically to write objects to the
server-side and to return no meaningful information to the client-side.
Otherwise, users may be able to use assign functions to return disclosive
output to the client-side. ds.message calls messageDS which looks
specifically for an object called $serversideMessage in a designated list on
the server-side. Server-side functions from which error messages are to be made
available, are designed to be able to write the designated error message to
the $serversideMessage object into the list that is saved on the server-side
as the primary output of that function. So only valid server-side functions of
DataSHIELD can write a $studysideMessage, and as additional protection against
unexpected ways that someone may try to get round this limitation, a
$studysideMessage is a string that cannot exceed a length of nfilter.string
a default of 80 characters.
</p>


<h3>Value</h3>

<p>a list object from each study, containing whatever message has been written by
DataSHIELD into $studysideMessage.
</p>


<h3>Author(s)</h3>

<p>Burton PR
</p>

<hr /><div style="text-align: center;">[Package <em>dsBaseClient</em> version 5.0.0 ]</div>
</body></html>
