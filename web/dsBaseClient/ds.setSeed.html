<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Server-side random number generation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../../assets/R.css" />
</head><body>

<table width="100%" summary="page for ds.setSeed {dsBaseClient}"><tr><td>ds.setSeed {dsBaseClient}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Server-side random number generation</h2>

<h3>Description</h3>

<p>Primes the pseudorandom number generator in a data source
</p>


<h3>Usage</h3>

<pre>
ds.setSeed(seed.as.integer = NULL, datasources = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>seed.as.integer</code></td>
<td>
<p>a numeric value or a NULL that primes the random seed
in each data source.</p>
</td></tr>
<tr valign="top"><td><code>datasources</code></td>
<td>
<p>a list of <code>DSConnection-class</code> objects obtained after login. 
If the <code>datasources</code> argument is not specified
the default set of connections will be used: see <code>datashield.connections_default</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function generates an instance of
the full pseudorandom number seed that is a vector of integers
of length 626 called <code>.Random.seed</code>, this vector is written to the server-side. 
</p>
<p>This function is similar to a native R function <code>set.seed()</code>. 
</p>
<p>In <code>seed.as.integer</code> argument 
the current limitation on the value of the integer that
can be specified is <code>-2147483647</code> up to <code>+2147483647</code> 
(this is <code>+/- ([2^31]-1)</code>).
</p>
<p>Because you only specify one integer in the call to <code>ds.setSeed</code>
(i.e. the value for the <code>seed.as.integer</code> argument) that value will be
used as the priming trigger value in all of the specified
data sources and so the pseudorandom number generators will all start from
the same position and if a vector of pseudorandom number values is requested
based on one of DataSHIELD's pseudorandom number generating functions precisely
the same random vector will be generated in each source. If you want to avoid this
you can specify a different priming value in each source by using 
the <code>datasources</code> argument to generate the random number vectors one source
at a time with a different integer in each case. 
</p>
<p>Furthermore, if you use any one
of DataSHIELD's pseudorandom number generating functions: <code>ds.rNorm</code>, <code>ds.rUnif</code>,
<code>ds.rPois</code> or <code>ds.rBinom</code>. The function call itself automatically uses the single
integer priming seed you specify to generate different integers in each source.
</p>
<p>Server function called: <code>setSeedDS</code>
</p>


<h3>Value</h3>

<p>Sets the values of the vector of integers of length 626 known as
<code>.Random.seed</code> on each data source that is the true current state of the
random seed in each source. It also returns the value of the trigger
integer that has primed the random seed vector (<code>.Random.seed</code>) in
each source and also the integer vector of 626 elements
that is <code>.Random.seed itself</code>.
</p>


<h3>Author(s)</h3>

<p>DataSHIELD Development Team
</p>


<h3>Examples</h3>

<pre>
## Not run: 
  ## Version 6, for version 5 see the Wiki 
  
  # Connecting to the Opal servers

  require('DSI')
  require('DSOpal')
  require('dsBaseClient')

  builder &lt;- DSI::newDSLoginBuilder()
  builder$append(server = "study1", 
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM1", driver = "OpalDriver")
  builder$append(server = "study2", 
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM2", driver = "OpalDriver")
  builder$append(server = "study3",
                 url = "http://192.168.56.100:8080/", 
                 user = "administrator", password = "datashield_test&amp;", 
                 table = "CNSIM.CNSIM3", driver = "OpalDriver")
  logindata &lt;- builder$build()

  # Log onto the remote Opal training servers
  connections &lt;- DSI::datashield.login(logins = logindata, assign = TRUE, symbol = "D") 
  
  #Generate a pseudorandom number in the server-side
  
  ds.setSeed(seed.as.integer = 152584,
             datasources = connections)
             
  #Specify the pseudorandom number only in the first source
  
  ds.setSeed(seed.as.integer = 741,
             datasources = connections[1])#only the frist study is used (study1)
                   
  # Clear the Datashield R sessions and logout  
  datashield.logout(connections) 
  
## End(Not run)

</pre>

<hr /><div style="text-align: center;">[Package <em>dsBaseClient</em> version 6.1.0 ]</div>
</body></html>
